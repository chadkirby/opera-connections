var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===l(e)}function i(e){return"string"==typeof e}function r(e){return"number"==typeof e}function a(e){return!0===e||!1===e||function(e){return n(e)&&null!==e}(e)&&"[object Boolean]"==l(e)}function n(e){return"object"==typeof e}function o(e){return null!=e}function s(e){return!e.trim().length}function l(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const c=Object.prototype.hasOwnProperty;class d{get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let i=u(e);t+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight})),this._keys.forEach((e=>{e.weight/=t}))}}function u(e){let r=null,a=null,n=null,o=1,s=null;if(i(e)||t(e))n=e,r=h(e),a=m(e);else{if(!c.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const t=e.name;if(n=t,c.call(e,"weight")&&(o=e.weight,o<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(t));r=h(t),a=m(t),s=e.getFn}return{path:r,id:a,weight:o,src:n,getFn:s}}function h(e){return t(e)?e:e.split(".")}function m(e){return t(e)?e.join("."):e}var g={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,n){let s=[],l=!1;const c=(e,n,d)=>{if(o(e))if(n[d]){const u=e[n[d]];if(!o(u))return;if(d===n.length-1&&(i(u)||r(u)||a(u)))s.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(u));else if(t(u)){l=!0;for(let e=0,t=u.length;e<t;e+=1)c(u[e],n,d+1)}else n.length&&c(u,n,d+1)}else s.push(e)};return c(e,i(n)?n.split("."):n,0),l?s:s[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const p=/[^ ]+/g;class f{setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,i(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();i(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!o(e)||s(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,r){let a={i:r,$:{}};this.keys.forEach(((r,n)=>{let l=r.getFn?r.getFn(e):this.getFn(e,r.path);if(o(l))if(t(l)){let e=[];const r=[{nestedArrIndex:-1,value:l}];for(;r.length;){const{nestedArrIndex:a,value:n}=r.pop();if(o(n))if(i(n)&&!s(n)){let t={v:n,i:a,n:this.norm.get(n)};e.push(t)}else t(n)&&n.forEach(((e,t)=>{r.push({nestedArrIndex:t,value:e})}))}a.$[n]=e}else if(i(l)&&!s(l)){let e={v:l,n:this.norm.get(l)};a.$[n]=e}})),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}constructor({getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){this.norm=function(e=1,t=3){const i=new Map,r=Math.pow(10,t);return{get(t){const a=t.match(p).length;if(i.has(a))return i.get(a);const n=1/Math.pow(a,.5*e),o=parseFloat(Math.round(n*r)/r);return i.set(a,o),o},clear(){i.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}}function b(e,t,{getFn:i=g.getFn,fieldNormWeight:r=g.fieldNormWeight}={}){const a=new f({getFn:i,fieldNormWeight:r});return a.setKeys(e.map(u)),a.setSources(t),a.create(),a}function v(e,{errors:t=0,currentLocation:i=0,expectedLocation:r=0,distance:a=g.distance,ignoreLocation:n=g.ignoreLocation}={}){const o=t/e.length;if(n)return o;const s=Math.abs(r-i);return a?o+s/a:s?1:o}function y(e,t,i,{location:r=g.location,distance:a=g.distance,threshold:n=g.threshold,findAllMatches:o=g.findAllMatches,minMatchCharLength:s=g.minMatchCharLength,includeMatches:l=g.includeMatches,ignoreLocation:c=g.ignoreLocation}={}){if(t.length>32)throw new Error(`Pattern length exceeds max of ${32}.`);const d=t.length,u=e.length,h=Math.max(0,Math.min(r,u));let m=n,p=h;const f=s>1||l,b=f?Array(u):[];let y;for(;(y=e.indexOf(t,p))>-1;){let e=v(t,{currentLocation:y,expectedLocation:h,distance:a,ignoreLocation:c});if(m=Math.min(e,m),p=y+d,f){let e=0;for(;e<d;)b[y+e]=1,e+=1}}p=-1;let L=[],P=1,w=d+u;const k=1<<d-1;for(let r=0;r<d;r+=1){let n=0,s=w;for(;n<s;){v(t,{errors:r,currentLocation:h+s,expectedLocation:h,distance:a,ignoreLocation:c})<=m?n=s:w=s,s=Math.floor((w-n)/2+n)}w=s;let l=Math.max(1,h-s+1),g=o?u:Math.min(h+s,u)+d,y=Array(g+2);y[g+1]=(1<<r)-1;for(let n=g;n>=l;n-=1){let o=n-1,s=i[e.charAt(o)];if(f&&(b[o]=+!!s),y[n]=(y[n+1]<<1|1)&s,r&&(y[n]|=(L[n+1]|L[n])<<1|1|L[n+1]),y[n]&k&&(P=v(t,{errors:r,currentLocation:o,expectedLocation:h,distance:a,ignoreLocation:c}),P<=m)){if(m=P,p=o,p<=h)break;l=Math.max(1,2*h-p)}}if(v(t,{errors:r+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:c})>m)break;L=y}const T={isMatch:p>=0,score:Math.max(.001,P)};if(f){const e=function(e=[],t=g.minMatchCharLength){let i=[],r=-1,a=-1,n=0;for(let o=e.length;n<o;n+=1){let o=e[n];o&&-1===r?r=n:o||-1===r||(a=n-1,a-r+1>=t&&i.push([r,a]),r=-1)}return e[n-1]&&n-r>=t&&i.push([r,n-1]),i}(b,s);e.length?l&&(T.indices=e):T.isMatch=!1}return T}function L(e){let t={};for(let i=0,r=e.length;i<r;i+=1){const a=e.charAt(i);t[a]=(t[a]||0)|1<<r-i-1}return t}class P{searchIn(e){const{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return i&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:a,threshold:n,findAllMatches:o,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],d=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:m})=>{const{isMatch:g,score:p,indices:f}=y(e,t,h,{location:r+m,distance:a,threshold:n,findAllMatches:o,minMatchCharLength:s,includeMatches:i,ignoreLocation:l});g&&(u=!0),d+=p,g&&f&&(c=[...c,...f])}));let h={isMatch:u,score:u?d/this.chunks.length:1};return u&&i&&(h.indices=c),h}constructor(e,{location:t=g.location,threshold:i=g.threshold,distance:r=g.distance,includeMatches:a=g.includeMatches,findAllMatches:n=g.findAllMatches,minMatchCharLength:o=g.minMatchCharLength,isCaseSensitive:s=g.isCaseSensitive,ignoreLocation:l=g.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:r,includeMatches:a,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:L(e),startIndex:t})},d=this.pattern.length;if(d>32){let e=0;const t=d%32,i=d-t;for(;e<i;)c(this.pattern.substr(e,32),e),e+=32;if(t){const e=d-32;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}}class w{static isMultiMatch(e){return k(e,this.multiRegex)}static isSingleMatch(e){return k(e,this.singleRegex)}search(){}constructor(e){this.pattern=e}}function k(e,t){const i=e.match(t);return i?i[1]:null}class T extends w{static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}constructor(e,{location:t=g.location,threshold:i=g.threshold,distance:r=g.distance,includeMatches:a=g.includeMatches,findAllMatches:n=g.findAllMatches,minMatchCharLength:o=g.minMatchCharLength,isCaseSensitive:s=g.isCaseSensitive,ignoreLocation:l=g.ignoreLocation}={}){super(e),this._bitapSearch=new P(e,{location:t,threshold:i,distance:r,includeMatches:a,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l})}}class M extends w{static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,i=0;const r=[],a=this.pattern.length;for(;(t=e.indexOf(this.pattern,i))>-1;)i=t+a,r.push([t,i-1]);const n=!!r.length;return{isMatch:n,score:n?0:1,indices:r}}constructor(e){super(e)}}const x=[class extends w{static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}constructor(e){super(e)}},M,class extends w{static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}constructor(e){super(e)}},class extends w{static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},class extends w{static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},class extends w{static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}constructor(e){super(e)}},class extends w{static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},T],B=x.length,S=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const A=new Set([T.type,M.type]);const C=[];function I(e,t){for(let i=0,r=C.length;i<r;i+=1){let r=C[i];if(r.condition(e,t))return new r(e,t)}return new P(e,t)}const R="$and",G="$or",N="$path",O="$val",W=e=>!(!e[R]&&!e[G]),F=e=>({[R]:Object.keys(e).map((t=>({[t]:e[t]})))});function V(e,r,{auto:a=!0}={}){const o=e=>{let s=Object.keys(e);const l=(e=>!!e[N])(e);if(!l&&s.length>1&&!W(e))return o(F(e));if((e=>!t(e)&&n(e)&&!W(e))(e)){const t=l?e[N]:s[0],n=l?e[O]:e[t];if(!i(n))throw new Error((e=>`Invalid value for key ${e}`)(t));const o={keyId:m(t),pattern:n};return a&&(o.searcher=I(n,r)),o}let c={children:[],operator:s[0]};return s.forEach((i=>{const r=e[i];t(r)&&r.forEach((e=>{c.children.push(o(e))}))})),c};return W(e)||(e=F(e)),o(e)}function E(e,t){const i=e.matches;t.matches=[],o(i)&&i.forEach((e=>{if(!o(e.indices)||!e.indices.length)return;const{indices:i,value:r}=e;let a={indices:i,value:r};e.key&&(a.key=e.key.src),e.idx>-1&&(a.refIndex=e.idx),t.matches.push(a)}))}function D(e,t){t.score=e.score}class z{setCollection(e,t){if(this._docs=e,t&&!(t instanceof f))throw new Error("Incorrect 'index' type");this._myIndex=t||b(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){o(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let i=0,r=this._docs.length;i<r;i+=1){const a=this._docs[i];e(a,i)&&(this.removeAt(i),i-=1,r-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:a,includeScore:n,shouldSort:o,sortFn:s,ignoreFieldNorm:l}=this.options;let c=i(e)?i(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=g.ignoreFieldNorm}){e.forEach((e=>{let i=1;e.matches.forEach((({key:e,norm:r,score:a})=>{const n=e?e.weight:null;i*=Math.pow(0===a&&n?Number.EPSILON:a,(n||1)*(t?1:r))})),e.score=i}))}(c,{ignoreFieldNorm:l}),o&&c.sort(s),r(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:i=g.includeMatches,includeScore:r=g.includeScore}={}){const a=[];return i&&a.push(E),r&&a.push(D),e.map((e=>{const{idx:i}=e,r={item:t[i],refIndex:i};return a.length&&a.forEach((t=>{t(e,r)})),r}))}(c,this._docs,{includeMatches:a,includeScore:n})}_searchStringList(e){const t=I(e,this.options),{records:i}=this._myIndex,r=[];return i.forEach((({v:e,i:i,n:a})=>{if(!o(e))return;const{isMatch:n,score:s,indices:l}=t.searchIn(e);n&&r.push({item:e,idx:i,matches:[{score:s,value:e,norm:a,indices:l}]})})),r}_searchLogical(e){const t=V(e,this.options),i=(e,t,r)=>{if(!e.children){const{keyId:i,searcher:a}=e,n=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(t,i),searcher:a});return n&&n.length?[{idx:r,item:t,matches:n}]:[]}const a=[];for(let n=0,o=e.children.length;n<o;n+=1){const o=e.children[n],s=i(o,t,r);if(s.length)a.push(...s);else if(e.operator===R)return[]}return a},r=this._myIndex.records,a={},n=[];return r.forEach((({$:e,i:r})=>{if(o(e)){let o=i(t,e,r);o.length&&(a[r]||(a[r]={idx:r,item:e,matches:[]},n.push(a[r])),o.forEach((({matches:e})=>{a[r].matches.push(...e)})))}})),n}_searchObjectList(e){const t=I(e,this.options),{keys:i,records:r}=this._myIndex,a=[];return r.forEach((({$:e,i:r})=>{if(!o(e))return;let n=[];i.forEach(((i,r)=>{n.push(...this._findMatches({key:i,value:e[r],searcher:t}))})),n.length&&a.push({idx:r,item:e,matches:n})})),a}_findMatches({key:e,value:i,searcher:r}){if(!o(i))return[];let a=[];if(t(i))i.forEach((({v:t,i:i,n:n})=>{if(!o(t))return;const{isMatch:s,score:l,indices:c}=r.searchIn(t);s&&a.push({score:l,key:e,value:t,idx:i,norm:n,indices:c})}));else{const{v:t,n:n}=i,{isMatch:o,score:s,indices:l}=r.searchIn(t);o&&a.push({score:s,key:e,value:t,norm:n,indices:l})}return a}constructor(e,t={},i){this.options={...g,...t},this.options.useExtendedSearch,this._keyStore=new d(this.options.keys),this.setCollection(e,i)}}z.version="6.6.2",z.createIndex=b,z.parseIndex=function(e,{getFn:t=g.getFn,fieldNormWeight:i=g.fieldNormWeight}={}){const{keys:r,records:a}=e,n=new f({getFn:t,fieldNormWeight:i});return n.setKeys(r),n.setIndexRecords(a),n},z.config=g,z.parseQuery=V,function(...e){C.push(...e)}(class{static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let a=0,n=[],o=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];n.length=0,a=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:l,indices:c,score:d}=r.search(e);if(!l){o=0,a=0,n.length=0;break}if(a+=1,o+=d,i){const e=r.constructor.type;A.has(e)?n=[...n,...c]:n.push(c)}}if(a){let e={isMatch:!0,score:o/a};return i&&(e.indices=n),e}}return{isMatch:!1,score:1}}constructor(e,{isCaseSensitive:t=g.isCaseSensitive,includeMatches:i=g.includeMatches,minMatchCharLength:r=g.minMatchCharLength,ignoreLocation:a=g.ignoreLocation,findAllMatches:n=g.findAllMatches,location:o=g.location,threshold:s=g.threshold,distance:l=g.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:r,findAllMatches:n,ignoreLocation:a,location:o,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let i=e.trim().split(S).filter((e=>e&&!!e.trim())),r=[];for(let e=0,a=i.length;e<a;e+=1){const a=i[e];let n=!1,o=-1;for(;!n&&++o<B;){const e=x[o];let i=e.isMultiMatch(a);i&&(r.push(new e(i,t)),n=!0)}if(!n)for(o=-1;++o<B;){const e=x[o];let i=e.isSingleMatch(a);if(i){r.push(new e(i,t));break}}}return r}))}(this.pattern,this.options)}});var _={};
/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2016 Mykhailo Stadnyk <mikhus@gmail.com>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * @version 2.1.7
 */!function(t){function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(t,i){if(i||(i="undefined"==typeof window?e:window),void 0!==i[t])return i[t];for(var r=["webkit","moz","ms","o"],a=0,n=r.length,o=t.charAt(0).toUpperCase()+t.substr(1);a<n;a++){var s=i[r[a]+o];if(void 0!==s)return s}return null}function o(e,t,i,r,a,n,s){if("function"!=typeof r)throw new TypeError("Invalid animation rule:",r);var l=e-i,c=l/a,d=0;c>1&&(c=1),1!==c&&(d=r(c),isFinite(d)&&!isNaN(d)&&(c=d)),t&&t(c),l<a?s.frame=G((function(e){return o(e,t,i,r,a,n,s)})):(n&&n(),s.inProgress=!1)}function s(){Array.prototype.constructor.apply(this,arguments)}function l(e,t,i,r,a,n){e.beginPath(),e.moveTo(t+n,i),e.lineTo(t+r-n,i),e.quadraticCurveTo(t+r,i,t+r,i+n),e.lineTo(t+r,i+a-n),e.quadraticCurveTo(t+r,i+a,t+r-n,i+a),e.lineTo(t+n,i+a),e.quadraticCurveTo(t,i+a,t,i+a-n),e.lineTo(t,i+n),e.quadraticCurveTo(t,i,t+n,i),e.closePath()}function c(e,t){var i,r=t.valueDec,a=t.valueInt,n=0,o=void 0,s=void 0;if(i=(e=parseFloat(e))<0,e=Math.abs(e),r>0){for(o=a-(s=e.toFixed(r).toString().split("."))[0].length;n<o;++n)s[0]="0"+s[0];s=(i?"-":"")+s[0]+"."+s[1]}else{for(o=a-(s=Math.round(e).toString()).length;n<o;++n)s="0"+s;s=(i?"-":"")+s}return s}function d(e,t,i){return e["font"+t+"Style"]+" "+e["font"+t+"Weight"]+" "+e["font"+t+"Size"]*i+"px "+e["font"+t]}function u(e){e.shadowOffsetX=null,e.shadowOffsetY=null,e.shadowBlur=null,e.shadowColor="",e.strokeStyle=null,e.lineWidth=0,e.save()}function h(e,t,i,r){t.valueTextShadow&&(e.shadowOffsetX=i,e.shadowOffsetY=i,e.shadowBlur=r,e.shadowColor=t.colorValueTextShadow)}function m(e,t,i,r,a){i.beginPath(),i.arc(0,0,D(e),0,2*$,!0),i.lineWidth=t,i.strokeStyle=a?J.linearGradient(i,r,a,e):r,i.stroke(),i.closePath()}function g(e,t){var i=F.pixelRatio;return e.maxRadius||(e.maxRadius=e.max-t.borderShadowWidth-t.borderOuterWidth*i-t.borderMiddleWidth*i-t.borderInnerWidth*i+(t.borderOuterWidth?.5:0)+(t.borderMiddleWidth?.5:0)+(t.borderInnerWidth?.5:0)),e.maxRadius}function p(e,t){var i=F.pixelRatio,r=t.borderShadowWidth*i,a=e.max-r-t.borderOuterWidth*i/2,n=a-t.borderOuterWidth*i/2-t.borderMiddleWidth*i/2+.5,o=n-t.borderMiddleWidth*i/2-t.borderInnerWidth*i/2+.5,s=g(e,t),l=void 0,c=!1;e.save(),t.borderOuterWidth&&(c=J.drawShadow(e,t,c),m(a,t.borderOuterWidth*i,e,t.colorBorderOuter,t.colorBorderOuterEnd)),t.borderMiddleWidth&&(c=J.drawShadow(e,t,c),m(n,t.borderMiddleWidth*i,e,t.colorBorderMiddle,t.colorBorderMiddleEnd)),t.borderInnerWidth&&(c=J.drawShadow(e,t,c),m(o,t.borderInnerWidth*i,e,t.colorBorderInner,t.colorBorderInnerEnd)),J.drawShadow(e,t,c),e.beginPath(),e.arc(0,0,D(s),0,2*$,!0),t.colorPlateEnd?((l=e.createRadialGradient(0,0,s/2,0,0,s)).addColorStop(0,t.colorPlate),l.addColorStop(1,t.colorPlateEnd)):l=t.colorPlate,e.fillStyle=l,e.fill(),e.closePath(),e.restore()}function f(e,t){var i=e.max*(parseFloat(t.highlightsWidth)||0)/100;if(i){var r=D(v(e,t)-i/2),a=0,n=t.highlights.length,o=(t.maxValue-t.minValue)/t.ticksAngle;for(e.save();a<n;a++){var s=t.highlights[a];e.beginPath(),e.rotate(H),e.arc(0,0,r,J.radians(t.startAngle+(s.from-t.minValue)/o),J.radians(t.startAngle+(s.to-t.minValue)/o),!1),e.strokeStyle=s.color,e.lineWidth=i,e.lineCap=t.highlightsLineCap,e.stroke(),e.closePath(),e.restore(),e.save()}}}function b(e,t){var i=v(e,t),r=void 0,a=void 0,n=void 0,o=0,s=0,l=Math.abs(t.minorTicks)||0,c=t.ticksAngle/(t.maxValue-t.minValue);for(e.lineWidth=F.pixelRatio,e.strokeStyle=t.colorMinorTicks||t.colorStrokeTicks,e.save(),t.exactTicks?(a=t.maxValue-t.minValue,r=l?a/l:0,s=(_.mod(t.majorTicks[0],l)||0)*c):r=l*(t.majorTicks.length-1);o<r;++o)(n=t.startAngle+s+o*(t.ticksAngle/r))<=t.ticksAngle+t.startAngle&&(e.rotate(J.radians(n)),e.beginPath(),e.moveTo(0,i),e.lineTo(0,i-.075*e.max),P(e))}function v(e,t){var i=e.max/100;return g(e,t)-5*i-(t.barWidth?2*(parseFloat(t.barStrokeWidth)||0)+((parseFloat(t.barWidth)||0)+5)*i:0)}function y(e,t){J.prepareTicks(t);var i,r=D(v(e,t)),a=void 0,n=t.majorTicks.length,o=F.pixelRatio;for(e.lineWidth=2*o,e.save(),i=t.colorMajorTicks instanceof Array?t.colorMajorTicks:new Array(n).fill(t.colorStrokeTicks||t.colorMajorTicks),a=0;a<n;++a)e.strokeStyle=i[a],e.rotate(J.radians(L(t,t.exactTicks?t.majorTicks[a]:a,n))),e.beginPath(),e.moveTo(0,r),e.lineTo(0,r-.15*e.max),P(e);t.strokeTicks&&(e.strokeStyle=t.colorStrokeTicks||i[0],e.rotate(H),e.beginPath(),e.arc(0,0,r,J.radians(t.startAngle),J.radians(t.startAngle+t.ticksAngle),!1),P(e))}function L(e,t,i){if(e.exactTicks){var r=e.ticksAngle/(e.maxValue-e.minValue);return e.startAngle+r*(t-e.minValue)}return e.startAngle+t*(e.ticksAngle/(i-1))}function P(e){e.stroke(),e.restore(),e.closePath(),e.save()}function w(e,t){var i=v(e,t)-.15*e.max,r={},a=0,n=t.majorTicks.length,o="needle"!==t.animationTarget,s=t.colorNumbers instanceof Array?t.colorNumbers:new Array(n).fill(t.colorNumbers),l=o?-(t.value-t.minValue)/(t.maxValue-t.minValue)*t.ticksAngle:0;for(o&&(e.save(),e.rotate(-J.radians(l))),e.font=J.font(t,"Numbers",e.max/200),e.lineWidth=0,e.textAlign="center",e.textBaseline="middle";a<n;++a){var c=l+L(t,t.exactTicks?t.majorTicks[a]:a,n),d=e.measureText(t.majorTicks[a]).width,u=t.fontNumbersSize,h=Math.sqrt(d*d+u*u)/2,m=J.radialPoint(i-h-t.numbersMargin/100*e.max,J.radians(c));360===c&&(c=0),r[c]||(r[c]=!0,e.fillStyle=s[a],e.fillText(t.majorTicks[a],m.x,m.y))}o&&e.restore()}function k(e,t){t.title&&(e.save(),e.font=J.font(t,"Title",e.max/200),e.fillStyle=t.colorTitle,e.textAlign="center",e.fillText(t.title,0,-e.max/4.25,.8*e.max),e.restore())}function T(e,t){t.units&&(e.save(),e.font=J.font(t,"Units",e.max/200),e.fillStyle=t.colorUnits,e.textAlign="center",e.fillText(J.formatContext(t,t.units),0,e.max/3.25,.8*e.max),e.restore())}function M(e,t){if(t.needle){var i=t.ticksAngle<360?J.normalizedValue(t).indented:t.value,r=h?t.startAngle:t.startAngle+(i-t.minValue)/(t.maxValue-t.minValue)*t.ticksAngle;"right"===t.barStartPosition&&(r=t.startAngle+t.ticksAngle-(i-t.minValue)/(t.maxValue-t.minValue)*t.ticksAngle);var a=g(e,t),n=D(a/100*t.needleCircleSize),o=D(a/100*t.needleCircleSize*.75),s=D(a/100*t.needleEnd),l=D(t.needleStart?a/100*t.needleStart:0),c=a/100*t.needleWidth,d=a/100*t.needleWidth/2,u=F.pixelRatio,h="needle"!==t.animationTarget;e.save(),J.drawNeedleShadow(e,t),e.rotate(J.radians(r)),e.fillStyle=J.linearGradient(e,t.colorNeedle,t.colorNeedleEnd,s-l),"arrow"===t.needleType?(e.beginPath(),e.moveTo(-d,-l),e.lineTo(-c,0),e.lineTo(-1*u,s),e.lineTo(u,s),e.lineTo(c,0),e.lineTo(d,-l),e.closePath(),e.fill(),e.beginPath(),e.lineTo(-.5*u,s),e.lineTo(-1*u,s),e.lineTo(-c,0),e.lineTo(-d,-l),e.lineTo(d/2*u-2*u,-l),e.closePath(),e.fillStyle=t.colorNeedleShadowUp,e.fill()):(e.beginPath(),e.moveTo(-d,s),e.lineTo(-d,l),e.lineTo(d,l),e.lineTo(d,s),e.closePath(),e.fill()),t.needleCircleSize&&(e.restore(),J.drawNeedleShadow(e,t),t.needleCircleOuter&&(e.beginPath(),e.arc(0,0,n,0,2*$,!0),e.fillStyle=J.linearGradient(e,t.colorNeedleCircleOuter,t.colorNeedleCircleOuterEnd,n),e.fill(),e.closePath()),t.needleCircleInner&&(e.beginPath(),e.arc(0,0,o,0,2*$,!0),e.fillStyle=J.linearGradient(e,t.colorNeedleCircleInner,t.colorNeedleCircleInnerEnd,o),e.fill(),e.closePath()),e.restore())}}function x(e,t,i){J.drawValueBox(e,t,i,0,e.max-.33*e.max,e.max)}function B(e,t){var i=e.max/100,r=g(e,t)-5*i,a=parseFloat(t.barStrokeWidth+"")||0,n=(parseFloat(t.barWidth+"")||0)*i,o=r-2*a-n,s=(r-o)/2,l=o+s,c=a/l,d=t.startAngle,u=t.startAngle+t.ticksAngle;if(e.save(),e.rotate(H),a&&(e.beginPath(),e.arc(0,0,l,J.radians(d)-c,J.radians(u)+c,!1),e.strokeStyle=t.colorBarStroke,e.lineWidth=2*s,e.stroke(),e.closePath()),n&&(e.beginPath(),e.arc(0,0,l,J.radians(d),J.radians(u),!1),e.strokeStyle=t.colorBar,e.lineWidth=n,e.stroke(),e.closePath(),t.barShadow&&(e.beginPath(),e.arc(0,0,r,J.radians(d),J.radians(u),!1),e.clip(),e.beginPath(),e.strokeStyle=t.colorBar,e.lineWidth=1,e.shadowBlur=t.barShadow,e.shadowColor=t.colorBarShadow,e.shadowOffsetX=0,e.shadowOffsetY=0,e.arc(0,0,r,J.radians(t.startAngle),J.radians(t.startAngle+t.ticksAngle),!1),e.stroke(),e.closePath(),e.restore(),e.rotate(H)),t.barProgress)){var h=function(e){var t=e.startAngle,i=e.startAngle+e.ticksAngle,r=t,a=t+(J.normalizedValue(e).normal-e.minValue)/(e.maxValue-e.minValue)*e.ticksAngle;if("middle"===e.barStartPosition){var n=.5*(e.minValue+e.maxValue);e.value<n?(r=180-(n-J.normalizedValue(e).normal)/(e.maxValue-e.minValue)*e.ticksAngle,a=180):(r=180,a=180+(J.normalizedValue(e).normal-n)/(e.maxValue-e.minValue)*e.ticksAngle)}else"right"===e.barStartPosition&&(r=i-a+t,a=i);return{startAngle:r,endAngle:a}}(t),m=h.startAngle,p=h.endAngle;e.beginPath(),e.arc(0,0,l,J.radians(m),J.radians(p),!1),e.strokeStyle=t.colorBarProgress,e.lineWidth=n,e.stroke(),e.closePath()}e.restore()}function S(e){return e.options.animatedValue?e.options.value:e.value}var A=function e(t,i,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,i);if(void 0===a){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},C=function e(t,i,r,a){var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var o=Object.getPrototypeOf(t);null!==o&&e(o,i,r,a)}else if("value"in n&&n.writable)n.value=r;else{var s=n.set;void 0!==s&&s.call(a,r)}return r},I=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var n=Object.keys(Object(a)),o=0,s=n.length;o<s;o++){var l=n[o],c=Object.getOwnPropertyDescriptor(a,l);void 0!==c&&c.enumerable&&(i[l]=a[l])}}return i}}),Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(e,t){var i;if(null===this)throw new TypeError('"this" is null or not defined');var r=Object(this),a=r.length>>>0;if(0===a)return-1;var n=+t||0;if(Math.abs(n)===1/0&&(n=0),n>=a)return-1;for(i=Math.max(n>=0?n:a-Math.abs(n),0);i<a;){if(i in r&&r[i]===e)return i;i++}return-1}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null===this)throw new TypeError("this is null or not defined");for(var t=Object(this),i=t.length>>>0,r=arguments[1],a=r>>0,n=a<0?Math.max(i+a,0):Math.min(a,i),o=arguments[2],s=void 0===o?i:o>>0,l=s<0?Math.max(i+s,0):Math.min(s,i);n<l;)t[n]=e,n++;return t}}),"undefined"==typeof window&&(window=void 0===e?{}:e);var R=function(){function e(){a(this,e),this._events={},this.addListener=this.on,this.removeListener=this.off}return I(e,[{key:"emit",value:function(e){if(this._events[e]){for(var t=0,i=this._events[e].length,r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];for(;t<i;t++)this._events[e][t]&&this._events[e][t].apply(this,a)}}},{key:"once",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(var a=0,n=i.length,o=this;a<n;a++)!function(){var t=i[a];i[a]=function i(){o.off(e,i),t.apply(o,arguments)}}();this.on.apply(this,[e].concat(i))}},{key:"on",value:function(e){this._events[e]||(this._events[e]=[]);for(var t=0,i=arguments.length<=1?0:arguments.length-1;t<i;t++)this._events[e].push(arguments.length<=t+1?void 0:arguments[t+1])}},{key:"off",value:function(e){if(this._events[e])for(var t=0,i=arguments.length<=1?0:arguments.length-1;t<i;t++)for(var r=arguments.length<=t+1?void 0:arguments[t+1],a=void 0;~(a=this._events[e].indexOf(r));)this._events[e].splice(a,1)}},{key:"removeAllListeners",value:function(e){delete this._events[e]}},{key:"listeners",get:function(){return this._events}}]),e}(),G=n("requestAnimationFrame")||function(e){return setTimeout((function(){return e((new Date).getTime())}),1e3/60)},N={linear:function(e){return e},quad:function(e){return Math.pow(e,2)},dequad:function(e){return 1-N.quad(1-e)},quint:function(e){return Math.pow(e,5)},dequint:function(e){return 1-Math.pow(1-e,5)},cycle:function(e){return 1-Math.sin(Math.acos(e))},decycle:function(e){return Math.sin(Math.acos(1-e))},bounce:function(e){return 1-N.debounce(1-e)},debounce:function(e){for(var t=0,i=1;;t+=i,i/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(i,2)},elastic:function(e){return 1-N.delastic(1-e)},delastic:function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*1.5/3*e)}},O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(a(this,e),this.duration=i,this.rule=t,this.draw=r,this.end=n,"function"!=typeof this.draw)throw new TypeError("Invalid animation draw callback:",r);if("function"!=typeof this.end)throw new TypeError("Invalid animation end callback:",n)}return I(e,[{key:"animate",value:function(e,t){var i=this;this.frame&&this.cancel();var r=window.performance&&window.performance.now?window.performance.now():n("animationStartTime")||Date.now();e=e||this.draw,t=t||this.end,this.draw=e,this.end=t,this.frame=G((function(a){return o(a,e,r,N[i.rule]||i.rule,i.duration,t,i)}))}},{key:"cancel",value:function(){this.frame&&((n("cancelAnimationFrame")||function(e){})(this.frame),this.frame=null)}},{key:"destroy",value:function(){this.cancel(),this.draw=null,this.end=null}}]),e}();O.rules=N;var W=function(){function e(i,r,n){a(this,e),this.options=i,this.element=r.toLowerCase(),this.type=e.toDashed(n),this.Type=t[n],this.mutationsObserved=!1,this.isObservable=!!window.MutationObserver,window.GAUGES_NO_AUTO_INIT||e.domReady(this.traverse.bind(this))}return I(e,[{key:"isValidNode",value:function(e){return!(!e.tagName||e.tagName.toLowerCase()!==this.element||e.getAttribute("data-type")!==this.type)}},{key:"traverse",value:function(){for(var e=document.getElementsByTagName(this.element),t=0,i=e.length;t<i;t++)this.process(e[t]);this.isObservable&&!this.mutationsObserved&&(new MutationObserver(this.observe.bind(this)).observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.mutationsObserved=!0)}},{key:"observe",value:function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t];if("attributes"===r.type&&"data-type"===r.attributeName&&this.isValidNode(r.target)&&r.oldValue!==this.type)setTimeout(this.process.bind(this,r.target));else if(r.addedNodes&&r.addedNodes.length)for(var a=0,n=r.addedNodes.length;a<n;a++)setTimeout(this.process.bind(this,r.addedNodes[a]))}}},{key:"process",value:function(t){var i=this;if(!this.isValidNode(t))return null;var r=void 0,a=JSON.parse(JSON.stringify(this.options)),n=null;for(r in a)if(a.hasOwnProperty(r)){var o=e.toAttributeName(r),s=e.parse(t.getAttribute(o));null!=s&&(a[r]=s)}return a.renderTo=t,(n=new this.Type(a)).draw&&n.draw(),this.isObservable?(n.observer=new MutationObserver((function(r){r.forEach((function(r){if("attributes"===r.type){var a=r.attributeName.toLowerCase(),o=t.getAttribute(a).toLowerCase();if("data-type"===a&&o&&o!==i.type)n.observer.disconnect(),delete n.observer,n.destroy&&n.destroy();else if("data-"===a.substr(0,5)){var s=a.substr(5).split("-").map((function(e,t){return t?e.charAt(0).toUpperCase()+e.substr(1):e})).join(""),l={};l[s]=e.parse(t.getAttribute(r.attributeName)),"value"===s?n&&(n.value=l[s]):n.update&&n.update(l)}}}))})),n.observer.observe(t,{attributes:!0}),n):n}}],[{key:"parse",value:function(e){if("true"===e)return!0;if("false"===e)return!1;if("undefined"!==e){if("null"===e)return null;if(/^[-+#.\w\d\s]+(?:,[-+#.\w\d\s]*)+$/.test(e))return e.split(",");try{return JSON.parse(e)}catch(e){}return e}}},{key:"toDashed",value:function(e){for(var t=e.split(/(?=[A-Z])/),i=1,r=t.length,a=t[0].toLowerCase();i<r;i++)a+="-"+t[i].toLowerCase();return a}},{key:"toCamelCase",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.split(/-/),r=0,a=i.length,n="";r<a;r++)n+=r||t?i[r][0].toUpperCase()+i[r].substr(1).toLowerCase():i[r].toLowerCase();return n}},{key:"toAttributeName",value:function(t){return"data-"+e.toDashed(t)}},{key:"domReady",value:function(e){if(/comp|inter|loaded/.test((window.document||{}).readyState+""))return e();window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):window.attachEvent&&window.attachEvent("onload",e)}}]),e}(),F=function(){function e(t,i,r){a(this,e),e.collection.push(this),this.width=i||0,this.height=r||0,this.element=t,this.init()}return I(e,[{key:"init",value:function(){var t=e.pixelRatio;this.element.width=this.width*t,this.element.height=this.height*t,this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.elementClone=this.element.cloneNode(!0),this.context=this.element.getContext("2d"),this.contextClone=this.elementClone.getContext("2d"),this.drawWidth=this.element.width,this.drawHeight=this.element.height,this.drawX=this.drawWidth/2,this.drawY=this.drawHeight/2,this.minSide=this.drawX<this.drawY?this.drawX:this.drawY,this.elementClone.initialized=!1,this.contextClone.translate(this.drawX,this.drawY),this.contextClone.save(),this.context.translate(this.drawX,this.drawY),this.context.save(),this.context.max=this.contextClone.max=this.minSide,this.context.maxRadius=this.contextClone.maxRadius=null}},{key:"destroy",value:function(){var t=e.collection.indexOf(this);~t&&e.collection.splice(t,1),this.context.clearRect(-this.drawX,-this.drawY,this.drawWidth,this.drawHeight),this.context.max=null,delete this.context.max,this.context.maxRadius=null,delete this.context.maxRadius,this.context=null,this.contextClone=null,this.elementClone=null,this.element=null,this.onRedraw=null}},{key:"commit",value:function(){var t=e.pixelRatio;return 1!==t&&(this.contextClone.scale(t,t),this.contextClone.save()),this}},{key:"redraw",value:function(){return this.init(),this.onRedraw&&this.onRedraw(),this}}],[{key:"redraw",value:function(){for(var t=0,i=e.collection.length;t<i;t++)e.collection[t].redraw()}},{key:"pixelRatio",get:function(){return window.devicePixelRatio||1}}]),e}();F.collection=[],window.matchMedia&&window.matchMedia("screen and (min-resolution: 2dppx)").addListener(F.redraw);var V={renderTo:null,width:0,height:0,minValue:0,maxValue:100,value:0,units:!1,exactTicks:!1,majorTicks:[0,20,40,60,80,100],minorTicks:10,strokeTicks:!0,animatedValue:!1,animateOnInit:!1,title:!1,borders:!0,numbersMargin:1,listeners:null,valueInt:3,valueDec:2,majorTicksInt:1,majorTicksDec:0,animation:!0,animationDuration:500,animationRule:"cycle",colorPlate:"#fff",colorPlateEnd:"",colorMajorTicks:"#444",colorMinorTicks:"#666",colorStrokeTicks:"",colorTitle:"#888",colorUnits:"#888",colorNumbers:"#444",colorNeedle:"rgba(240,128,128,1)",colorNeedleEnd:"rgba(255,160,122,.9)",colorValueText:"#444",colorValueTextShadow:"rgba(0,0,0,0.3)",colorBorderShadow:"rgba(0,0,0,0.5)",colorBorderOuter:"#ddd",colorBorderOuterEnd:"#aaa",colorBorderMiddle:"#eee",colorBorderMiddleEnd:"#f0f0f0",colorBorderInner:"#fafafa",colorBorderInnerEnd:"#ccc",colorValueBoxRect:"#888",colorValueBoxRectEnd:"#666",colorValueBoxBackground:"#babab2",colorValueBoxShadow:"rgba(0,0,0,1)",colorNeedleShadowUp:"rgba(2,255,255,0.2)",colorNeedleShadowDown:"rgba(188,143,143,0.45)",colorBarStroke:"#222",colorBar:"#ccc",colorBarProgress:"#888",colorBarShadow:"#000",fontNumbers:"Arial",fontTitle:"Arial",fontUnits:"Arial",fontValue:"Arial",fontNumbersSize:20,fontTitleSize:24,fontUnitsSize:22,fontValueSize:26,fontNumbersStyle:"normal",fontTitleStyle:"normal",fontUnitsStyle:"normal",fontValueStyle:"normal",fontNumbersWeight:"normal",fontTitleWeight:"normal",fontUnitsWeight:"normal",fontValueWeight:"normal",needle:!0,needleShadow:!0,needleType:"arrow",needleStart:5,needleEnd:85,needleWidth:4,borderOuterWidth:3,borderMiddleWidth:3,borderInnerWidth:3,borderShadowWidth:3,valueBox:!0,valueBoxStroke:5,valueBoxWidth:0,valueText:"",valueTextShadow:!0,valueBoxBorderRadius:2.5,highlights:[{from:20,to:60,color:"#eee"},{from:60,to:80,color:"#ccc"},{from:80,to:100,color:"#999"}],highlightsWidth:15,highlightsLineCap:"butt",barWidth:20,barStrokeWidth:0,barProgress:!0,barShadow:0};s.prototype=Object.create(Array.prototype),s.prototype.constructor=s,s.prototype.get=function(e){if("string"==typeof e)for(var t=0,i=this.length;t<i;t++){if((this[t].options.renderTo.tagName?this[t].options.renderTo:document.getElementById(this[t].options.renderTo||"")).getAttribute("id")===e)return this[t]}else if("number"==typeof e)return this[e];return null};var E="2.1.7",D=(Math.round,Math.abs),z=new s;z.version=E;var _=function(e){function n(e){a(this,n);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=r.constructor.name;if("BaseGauge"===o)throw new TypeError("Attempt to instantiate abstract class!");if(z.push(r),e.listeners&&Object.keys(e.listeners).forEach((function(t){(e.listeners[t]instanceof Array?e.listeners[t]:[e.listeners[t]]).forEach((function(e){r.on(t,e)}))})),r.version=E,r.type=t[o]||n,r.initialized=!1,e.minValue=parseFloat(e.minValue),e.maxValue=parseFloat(e.maxValue),e.value=parseFloat(e.value)||0,e.borders||(e.borderInnerWidth=e.borderMiddleWidth=e.borderOuterWidth=0),!e.renderTo)throw TypeError("Canvas element was not specified when creating the Gauge object!");var s=e.renderTo.tagName?e.renderTo:document.getElementById(e.renderTo);if(!(s instanceof HTMLCanvasElement))throw TypeError("Given gauge canvas element is invalid!");return e.width=parseFloat(e.width)||0,e.height=parseFloat(e.height)||0,e.width&&e.height||(e.width||(e.width=s.parentNode?s.parentNode.offsetWidth:s.offsetWidth),e.height||(e.height=s.parentNode?s.parentNode.offsetHeight:s.offsetHeight)),r.options=e||{},r.options.animateOnInit&&(r._value=r.options.value,r.options.value=r.options.minValue),r.canvas=new F(s,e.width,e.height),r.canvas.onRedraw=r.draw.bind(r),r.animation=new O(e.animationRule,e.animationDuration),r}return r(n,e),I(n,[{key:"update",value:function(e){return Object.assign(this.options,this.type.configure(e||{})),this.canvas.width=this.options.width,this.canvas.height=this.options.height,this.animation.rule=this.options.animationRule,this.animation.duration=this.options.animationDuration,this.canvas.redraw(),this}},{key:"destroy",value:function(){var e=z.indexOf(this);~e&&z.splice(e,1),this.canvas.destroy(),this.canvas=null,this.animation.destroy(),this.animation=null,this.emit("destroy")}},{key:"draw",value:function(){return this.options.animateOnInit&&!this.initialized&&(this.value=this._value,this.initialized=!0,this.emit("init")),this.emit("render"),this}},{key:"value",set:function(e){var t=this;e=n.ensureValue(e,this.options.minValue);var i=this.options.value;if(e!==i)if(this.options.animation){if(this.animation.frame&&(this.options.value=this._value,this._value===e))return this.animation.cancel(),void delete this._value;void 0===this._value&&(this._value=e),this.emit("animationStart"),this.animation.animate((function(r){var a=i+(e-i)*r;t.options.animatedValue&&t.emit("value",a,t.value),t.options.value=a,t.draw(),t.emit("animate",r,t.options.value)}),(function(){void 0!==t._value&&(t.emit("value",t._value,t.value),t.options.value=t._value,delete t._value),t.draw(),t.emit("animationEnd")}))}else this.emit("value",e,this.value),this.options.value=e,this.draw()},get:function(){return void 0===this._value?this.options.value:this._value}}],[{key:"configure",value:function(e){return e}},{key:"initialize",value:function(e,t){return new W(t,"canvas",e)}},{key:"fromElement",value:function(e){var t=W.toCamelCase(e.getAttribute("data-type")),i=e.attributes,r=0,a=i.length,n={};if(t){for(/Gauge$/.test(t)||(t+="Gauge");r<a;r++)n[W.toCamelCase(i[r].name.replace(/^data-/,""),!1)]=W.parse(i[r].value);new W(n,e.tagName,t).process(e)}}},{key:"ensureValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=parseFloat(e),!isNaN(e)&&isFinite(e)||(e=parseFloat(t)||0),e}},{key:"mod",value:function(e,t){return(e%t+t)%t}},{key:"version",get:function(){return E}}]),n}(R);void 0!==t&&(t.BaseGauge=_,t.gauges=(window.document||{}).gauges=z);var j=/{([_a-zA-Z]+[_a-zA-Z0-9]*)}/g,J={roundRect:l,padValue:c,formatMajorTickNumber:function(e,t){var i=void 0,r=!1;return i=0===t.majorTicksDec?Math.round(e).toString():e.toFixed(t.majorTicksDec),t.majorTicksInt>1?(r=~i.indexOf("."),~i.indexOf("-")?"-"+[t.majorTicksInt+t.majorTicksDec+2+(r?1:0)-i.length].join("0")+i.replace("-",""):[t.majorTicksInt+t.majorTicksDec+1+(r?1:0)-i.length].join("0")+i):i},radians:function(e){return e*Math.PI/180},radialPoint:function(e,t){return{x:-e*Math.sin(t),y:e*Math.cos(t)}},linearGradient:function(e,t,i,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=e.createLinearGradient(a?0:n,a?n:0,a?0:r,a?r:0);return o.addColorStop(0,t),o.addColorStop(1,i),o},drawNeedleShadow:function(e,t){t.needleShadow&&(e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowBlur=10,e.shadowColor=t.colorNeedleShadowDown)},drawValueBox:function(e,t,i,r,a,n){if(t.valueBox){u(e);var o=t.valueDec?1+t.valueDec:0,s="9".repeat(Math.max.apply(null,[String(parseInt(i)).length+o].concat(t.majorTicks.map((function(e){return String(parseInt(e,10)).length+o}))))),m=t.valueText||c(i,t),g=n/200,p=n/100,f=.4*p,b=1.2*p;e.font=d(t,"Value",g),h(e,t,f,b);var v=e.measureText(t.valueText?m:"-"+c(Number(s),t)).width;u(e);var y=parseFloat(t.fontValueSize)*g+f+b,L=p*parseFloat(t.valueBoxStroke),P=2*n-2*L,w=v+10*p,k=1.1*y+f+b,T=p*t.valueBoxBorderRadius,M=(parseFloat(t.valueBoxWidth)||0)/100*P;M>w&&(w=M),w>P&&(w=P);var x=r-w/2,B=a-k/2,S=a-5.75*p;if(e.beginPath(),T?l(e,x,B,w,k,T):e.rect(x,B,w,k),L){var A=e.createRadialGradient(r,S,10*p,r,S,20*p);A.addColorStop(0,t.colorValueBoxRect),A.addColorStop(1,t.colorValueBoxRectEnd),e.strokeStyle=A,e.lineWidth=L,e.stroke()}t.colorValueBoxShadow&&(e.shadowBlur=1.2*p,e.shadowColor=t.colorValueBoxShadow),t.colorValueBoxBackground&&(e.fillStyle=t.colorValueBoxBackground,e.fill()),e.closePath(),e.restore(),h(e,t,f,b),e.fillStyle=t.colorValueText,e.textAlign="center",e.textBaseline="alphabetic",e.fillText(m,x+w/2,a+k/2-y/3),e.restore()}},verifyError:function(e){if(!(e instanceof DOMException&&2152923147===e.result))throw e},prepareTicks:function(e){return e.majorTicks instanceof Array||(e.majorTicks=e.majorTicks?[e.majorTicks]:[]),e.majorTicks.length||(e.majorTicks.push(J.formatMajorTickNumber(e.minValue,e)),e.majorTicks.push(J.formatMajorTickNumber(e.maxValue,e))),["right"!==e.tickSide,"left"!==e.tickSide]},drawShadow:function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e.restore(),!0;e.save();var i=t.borderShadowWidth;return i&&(e.shadowBlur=i,e.shadowColor=t.colorBorderShadow),!0},font:d,normalizedValue:function(e){var t=e.value,i=e.minValue,r=e.maxValue,a=.01*(r-i);return{normal:t<i?i:t>r?r:t,indented:t<i?i-a:t>r?r+a:t}},formatContext:function(e,t){return t.replace(j,(function(t,i){var r=e[i];return void 0!==r?r:t}))}},$=Math.PI,H=$/2,q=Object.assign({},V,{ticksAngle:270,startAngle:45,colorNeedleCircleOuter:"#f0f0f0",colorNeedleCircleOuterEnd:"#ccc",colorNeedleCircleInner:"#e8e8e8",colorNeedleCircleInnerEnd:"#f5f5f5",needleCircleSize:10,needleCircleInner:!0,needleCircleOuter:!0,needleStart:20,animationTarget:"needle",useMinPath:!1,barWidth:0,barStartPosition:"left"}),U=function(e){function t(e){return a(this,t),e=Object.assign({},q,e||{}),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,t.configure(e)))}return r(t,e),I(t,[{key:"draw",value:function(){try{var e=this.canvas,i=[-e.drawX,-e.drawY,e.drawWidth,e.drawHeight],r=i[0],a=i[1],n=i[2],o=i[3],s=this.options;if("needle"===s.animationTarget){if(!e.elementClone.initialized){var l=e.contextClone;l.clearRect(r,a,n,o),l.save(),this.emit("beforePlate"),p(l,s),this.emit("beforeHighlights"),f(l,s),this.emit("beforeMinorTicks"),b(l,s),this.emit("beforeMajorTicks"),y(l,s),this.emit("beforeNumbers"),w(l,s),this.emit("beforeTitle"),k(l,s),this.emit("beforeUnits"),T(l,s),e.elementClone.initialized=!0}this.canvas.commit(),e.context.clearRect(r,a,n,o),e.context.save(),e.context.drawImage(e.elementClone,r,a,n,o),e.context.save(),this.emit("beforeProgressBar"),B(e.context,s),this.emit("beforeValueBox"),x(e.context,s,S(this)),this.emit("beforeNeedle"),M(e.context,s)}else{var c=-J.radians((s.value-s.minValue)/(s.maxValue-s.minValue)*s.ticksAngle);if(e.context.clearRect(r,a,n,o),e.context.save(),this.emit("beforePlate"),p(e.context,s),e.context.rotate(c),this.emit("beforeHighlights"),f(e.context,s),this.emit("beforeMinorTicks"),b(e.context,s),this.emit("beforeMajorTicks"),y(e.context,s),this.emit("beforeNumbers"),w(e.context,s),this.emit("beforeProgressBar"),B(e.context,s),e.context.rotate(-c),e.context.save(),!e.elementClone.initialized){var d=e.contextClone;d.clearRect(r,a,n,o),d.save(),this.emit("beforeTitle"),k(d,s),this.emit("beforeUnits"),T(d,s),this.emit("beforeNeedle"),M(d,s),e.elementClone.initialized=!0}e.context.drawImage(e.elementClone,r,a,n,o)}this.emit("beforeValueBox"),x(e.context,s,S(this)),A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}catch(e){J.verifyError(e)}return this}},{key:"value",set:function(e){e=_.ensureValue(e,this.options.minValue),this.options.animation&&360===this.options.ticksAngle&&this.options.useMinPath&&(this._value=e,e=this.options.value+((e-this.options.value)%360+540)%360-180),C(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",e,this)},get:function(){return A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this)}}],[{key:"configure",value:function(e){return e.barWidth>50&&(e.barWidth=50),isNaN(e.startAngle)&&(e.startAngle=45),isNaN(e.ticksAngle)&&(e.ticksAngle=270),e.ticksAngle>360&&(e.ticksAngle=360),e.ticksAngle<0&&(e.ticksAngle=0),e.startAngle<0&&(e.startAngle=0),e.startAngle>360&&(e.startAngle=360),e}}]),t}(_);void 0!==t&&(t.RadialGauge=U),_.initialize("RadialGauge",q),Object.assign(t,{Collection:s,GenericOptions:V,Animation:O,BaseGauge:_,drawings:J,SmartCanvas:F,DomObserver:W,vendorize:n})}(_);var j=[{title:"1984",composer:"Maazel, Lorin",date:"2005",Librettist:"\n",language:"English","Based on":"Nineteen Eighty-Four",Premiere:"3 May 2005",Website:"www.1984theopera.com"},{title:"Adriana Lecouvreur",composer:"Cilea, Francesco",date:"1902",Librettist:"Arturo Colautti",language:"Italian","Based on":"Adrienne Lecouvreur",Premiere:"6 November 1902"},{title:"Aida",composer:"Verdi, Giuseppe",date:"1871",Librettist:"Antonio Ghislanzoni",language:"Italian",Premiere:"24 December 1871"},{title:"Akhnaten",composer:"Glass, Philip",date:"1984",Premiere:"March 24, 1984"},{title:"Albert Herring",composer:"Britten",date:"1947",Librettist:"Eric Crozier",language:"English","Based on":"Le Rosier de Madame Husson",Premiere:"20 June 1947"},{title:"Alcina",composer:"Handel",date:"1735",language:"Italian","Based on":"L'isola di Alcina",Premiere:"16 April 1735"},{title:"Amahl and the Night Visitors",composer:"Menotti",date:"1951",Librettist:"Menotti",language:"English","Based on":"Hieronymus Bosch",Premiere:"December 24, 1951"},{title:"Andrea Chénier",composer:"Giordano",date:"1896",Librettist:"Luigi Illica",Premiere:"28 March 1896 (1896-03-28)La Scala, Milan, Kingdom of Italy"},{title:"Anna Bolena",composer:"Donizetti, Gaetano",date:"1830",Librettist:"Felice Romani",language:"Italian",Premiere:"26 December 1830"},{title:"Arabella",composer:"Strauss, Richard",date:"1933",Librettist:"Hugo von Hofmannsthal",language:"German",Premiere:"1 July 1933"},{title:"Ariadne auf Naxos",composer:"Strauss, Richard",date:"1912",Librettist:"Hugo von Hofmannsthal",language:"German",Premiere:"25 October 1912"},{title:"Aroldo",composer:"Verdi, Giuseppe",date:"1857",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"Edward Bulwer-Lytton",Premiere:"16 August 1857"},{title:"Les arts florissants",composer:"Charpentier, Marc-Antoine",date:"1685",language:"French",Premiere:"1685"},{title:"Attila",composer:"Verdi, Giuseppe",date:"1846",Librettist:"Temistocle Solera",language:"Italian","Based on":"Zacharias Werner",Premiere:"17 March 1846"},{title:"Un ballo in maschera",composer:"Verdi, Giuseppe",date:"1859",Translation:"A Masked Ball",Librettist:"Antonio Somma",language:"Italian","Based on":"Eugène Scribe",Premiere:"17 February 1859"},{title:"Il barbiere di Siviglia",composer:"Rossini, Gioachino",Translation:"The Barber of Seville",date:"1816",Librettist:"Cesare Sterbini",language:"Italian","Based on":"Pierre Beaumarchais",Premiere:"20 February 1816"},{title:"The Bartered Bride",composer:"Smetana",date:"1866","Native title":"Prodaná nevěsta",Librettist:"Karel Sabina",language:"Czech",Premiere:"30 May 1866"},{title:"Billy Budd",composer:"Britten",date:"1951",Librettist:"\n",language:"English","Based on":"Billy Budd",Premiere:"1 December 1951"},{title:"Bluebeard's Castle",composer:"Bartók",date:"1918","Native title":"Hungarian: A kékszakállú herceg vára",Librettist:"Béla Balázs",language:"Hungarian","Based on":"La Barbe bleue",Premiere:"24 May 1918"},{title:"La bohème",composer:"Puccini",date:"1896",language:"Italian","Based on":"Henri Murger",Premiere:"1 February 1896"},{title:"Boris Godunov",composer:"Mussorgsky, Modest",date:"1874","Native title":"Russian",Librettist:"Mussorgsky",language:"Russian","Based on":"Boris Godunov",Premiere:"27 January 1874"},{title:"Capriccio",composer:"Strauss, Richard",date:"1942",language:"German",Premiere:"28 October 1942"},{title:"Carmen",composer:"Bizet",date:"1875",language:"French",Premiere:"3 March 1875"},{title:"Cavalleria rusticana",composer:"Mascagni, Pietro",date:"1890",Librettist:"Giovanni Targioni-Tozzetti",language:"Italian","Based on":"Cavalleria rusticana",Premiere:"17 May 1890"},{title:"Cendrillon",composer:"Massenet",date:"1899",Librettist:"Henri Caïn",language:"French","Based on":"Perrault",Premiere:"24 May 1899"},{title:"La Cenerentola",composer:"Rossini, Gioachino",date:"1817","Other title":"La Cenerentola, ossia La bontà in trionfo",Librettist:"Jacopo Ferretti",language:"Italian","Based on":"Cendrillon",Premiere:"25 January 1817"},{title:"Le Cid",composer:"Massenet",date:"1885",language:"French",Premiere:"30 November 1885"},{title:"La clemenza di Tito",composer:"Mozart",date:"1791",Translation:"The Clemency of Titus",Librettist:"Caterino Mazzolà",language:"Italian","Based on":"Pietro Metastasio",Premiere:"6 September 1791"},{title:"Le comte Ory",composer:"Rossini, Gioachino",date:"1828",language:"French",Premiere:"20 August 1828"},{title:"Les contes d'Hoffmann",Translation:"The Tales of Hoffmann",composer:"Offenbach",date:"1881",language:"French"},{title:"Così fan tutte ossia La scuola degli amanti",composer:"Mozart",date:"1790",Translation:"Thus Do They All, or The School for Lovers",Librettist:"Lorenzo Da Ponte",language:"Italian",Premiere:"26 January 1790"},{title:"The Crucible",composer:"Ward",date:"1961",Librettist:"Bernard Stambler",language:"English","Based on":"The Crucible",Premiere:"October 26, 1961"},{title:"The Cunning Little Vixen",composer:"Janáček, Leoš",date:"1924","Native title":"Czech: ",Librettist:"Leoš Janáček",language:"Czech","Based on":"Rudolf Těsnohlídek",Premiere:"6 November 1924"},{title:"La damnation de Faust",composer:"Berlioz",date:"1893",Translation:"The Damnation of Faust",language:"French",Scoring:"four soloists children's chorus seven-part choir orchestra"},{title:"Daphne",composer:"Strauss, Richard",date:"1938",Librettist:"Joseph Gregor",language:"German",Premiere:"2 October 1938"},{title:"Death in Venice",composer:"Britten",date:"1973",Librettist:"Myfanwy Piper",language:"English","Based on":"Tod in Venedig",Premiere:"16 June 1973"},{title:"The Death of Klinghoffer",composer:"Adams, John",date:"1991",Librettist:"Alice Goodman",language:"English",Premiere:"19 March 1991"},{title:"Dialogues des Carmélites",composer:"Poulenc",date:"1957",Translation:"Dialogues of the Carmelites",Librettist:"Poulenc",language:"French",Premiere:"26 January 1957"},{title:"Dido and Aeneas",composer:"Purcell",date:"1689",Librettist:"Nahum Tate","Based on":"Aeneid",Premiere:"1689"},{title:"Doctor Atomic",composer:"Adams, John",date:"2005",Librettist:"Peter Sellars",language:"English",Premiere:"1 October 2005"},{title:"Don Carlos",composer:"Verdi, Giuseppe",date:"1867",language:"French",Premiere:"11 March 1867"},{title:"Don Giovanni",composer:"Mozart",date:"1787","Other title":"Il dissoluto punito, ossia il Don Giovanni",Librettist:"Lorenzo Da Ponte",language:"Italian","Based on":"Don Juan",Premiere:"29 October 1787"},{title:"Don Pasquale",composer:"Donizetti, Gaetano",date:"1843",language:"Italian",Premiere:"3 January 1843"},{title:"La donna del lago",composer:"Rossini, Gioachino",date:"1819",Translation:"The Lady of the Lake",Librettist:"Andrea Leone Tottola",language:"Italian","Based on":"The Lady of the Lake",Premiere:"24 September 1819"},{title:"I due Foscari",composer:"Verdi, Giuseppe",date:"1844",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"Lord Byron",Premiere:"3 November 1844"},{title:"Edgar",composer:"Puccini",date:"1899",Librettist:"Ferdinando Fontana",language:"Italian","Based on":"Alfred de Musset",Premiere:"21 April 1889"},{title:"Einstein on the Beach",composer:"Glass",date:"1976",Librettist:"\n",Premiere:"July 25, 1976"},{title:"Elektra",composer:"Strauss, Richard",date:"1909",Librettist:"Hugo von Hofmannsthal",language:"German","Based on":"Sophocles",Premiere:"25 January 1909"},{title:"L'elisir d'amore",composer:"Donizetti, Gaetano",date:"1832",Librettist:"Felice Romani",language:"Italian","Based on":"Eugène Scribe",Premiere:"12 May 1832"},{title:"Die Entführung aus dem Serail",composer:"Mozart",Translation:"The Abduction from the Seraglio",date:"1782",Librettist:"Gottlieb Stephanie",language:"German","Based on":"Christoph Friedrich Bretzner",Premiere:"16 July 1782"},{title:"Ernani",composer:"Verdi, Giuseppe",date:"1844",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"Hernani",Premiere:"9 March 1844"},{title:"Eugene Onegin",composer:"Tchaikovsky",date:"1879","Native title":"Russian",Librettist:"\n",language:"Russian","Based on":"Eugene Onegin",Premiere:"29 March 1879"},{title:"Euridice",composer:"Peri",date:"1600",Librettist:"Ottavio Rinuccini",language:"Italian","Based on":"Ovid",Premiere:"6 October 1600"},{title:"Euryanthe",composer:"Weber",date:"1823",Librettist:"Helmina von Chézy",language:"German","Based on":"13th-century French romance",Premiere:"25 October 1823"},{title:"Falstaff",composer:"Verdi, Giuseppe",date:"1893",Librettist:"Arrigo Boito",language:"Italian","Based on":"The Merry Wives of Windsor",Premiere:"9 February 1893"},{title:"La fanciulla del West",composer:"Puccini",date:"1910",Translation:"The Girl of the West",Librettist:"\n",language:"Italian","Based on":"David Belasco",Premiere:"10 December 1910"},{title:"Faust",composer:"Gounod",date:"1859",language:"French",Premiere:"19 March 1859"},{title:"Die Feen",composer:"Wagner",date:"1833",Translation:"The Fairies",Librettist:"Richard Wagner (1833)",language:"German","Based on":"Carlo Gozzi",Premiere:"29 June 1888"},{title:"Feuersnot",composer:"Strauss, Richard",date:"1901",Librettist:"Ernst von Wolzogen",language:"German","Based on":'J. Ketel\'s "Das erloschene Feuer zu Audenaerde"',Premiere:"21 November 1901"},{title:"Fidelio",composer:"Beethoven",date:"1805",Librettist:"Joseph Sonnleithner",language:"German",Premiere:"Original premiere 20 November 1805"},{title:"The Fiery Angel",composer:"Prokofiev",date:"1955","Native title":"Огненный ангел",Librettist:"Prokofiev",language:"Russian",Premiere:"25 November 1955"},{title:"La fille du régiment",composer:"Donizetti, Gaetano",date:"1840",language:"French",Premiere:"11 February 1840"},{title:"Die Fledermaus",composer:"Strauss, Johann",date:"1874",language:"German"},{title:"Der fliegende Holländer",Translation:"The Flying Dutchman",composer:"Wagner",date:"1843",Librettist:"Richard Wagner",language:"German","Based on":"Der fliegende Holländer",Premiere:"2 January 1843"},{title:"Florencia en el Amazonas",composer:"Catán",date:"1996",Librettist:"Marcela Fuentes-Berain",language:"Spanish","Based on":"Love in the Time of Cholera",Premiere:"25 October 1996"},{title:"La forza del destino",composer:"Verdi, Giuseppe",date:"1862",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"Ángel de Saavedra",Premiere:"10 November 1862"},{title:"Francesca da Rimini",composer:"Rachmaninoff",date:"1906","Native title":"Russian",Librettist:"Modest Ilyich Tchaikovsky",language:"Russian","Based on":"Francesca da Rimini",Premiere:"24 January 1906"},{title:"Der Freischütz",composer:"Weber",date:"1821",Translation:"The Marksman",Librettist:"Friedrich Kind",language:"German",Premiere:"18 June 1821"},{title:"The Gambler",composer:"Prokofiev",date:"1929","Native title":"Игрок",Librettist:"Prokofiev",language:"Russian","Based on":"The Gambler",Premiere:"1929"},{title:"La gazza ladra",composer:"Rossini, Gioachino",date:"1817",Translation:"The Thieving Magpie",Librettist:"Giovanni Gherardini",language:"Italian","Based on":"La pie voleuse",Premiere:"31 May 1817"},{title:"Gianni Schicchi",composer:"Puccini",date:"1918",Librettist:"Giovacchino Forzano",language:"Italian","Based on":"Dante",Premiere:"14 December 1918"},{title:"La Gioconda",composer:"Ponchielli",date:"1876",Librettist:"Arrigo Boito",language:"Italian","Based on":"Angelo, Tyrant of Padua",Premiere:"8 April 1876"},{title:"Un giorno di regno",composer:"Verdi, Giuseppe",date:"1840","Other title":"Il finto Stanislao",Librettist:"Felice Romani",language:"Italian","Based on":"Alexandre-Vincent Pineux Duval",Premiere:"5 September 1840"},{title:"Giovanna d'Arco",composer:"Verdi, Giuseppe",date:"1845",Librettist:"Temistocle Solera",language:"Italian","Based on":"Schiller",Premiere:"15 February 1845"},{title:"Gloriana",composer:"Britten",date:"1953",Librettist:"William Plomer",language:"English","Based on":"Elizabeth and Essex: A Tragic History",Premiere:"8 June 1953"},{title:"The Golden Cockerel",composer:"Rimsky-Korsakov",date:"1907",Librettist:"Vladimir Belsky",language:"Russian","Based on":"Pushkin",Premiere:"7 October 1909"},{title:"Le coq d'or",composer:"Rimsky-Korsakov",date:"1907",Librettist:"Vladimir Belsky",language:"French","Based on":"Pushkin",Premiere:"7 October 1909"},{title:"Götterdämmerung",composer:"Wagner",date:"1876",Translation:"Twilight of the Gods",Librettist:"Richard Wagner",language:"German","Based on":"Nordic and German legends",Premiere:"17 August 1876"},{title:"Guillaume Tell",Translation:"William Tell",composer:"Rossini, Gioachino",date:"1829",language:"French","Based on":"Wilhelm Tell",Premiere:"3 August 1829"},{title:"Hänsel und Gretel",composer:"Humperdinck",date:"1893",Librettist:"Adelheid Wette",language:"German",Premiere:"23 December 1893"},{title:"Die Hochzeit",composer:"Wagner",date:"Wagner",Librettist:"Richard Wagner",language:"German"},{title:"Hugh the Drover",composer:"Williams, Vaughan",date:"1958",Librettist:"Harold Child",language:"English",Premiere:"14 July 1924"},{title:"Les Huguenots",composer:"Meyerbeer, Giacomo",date:"1836",language:"French",Premiere:"29 February 1836"},{title:"Idomeneo",composer:"Mozart",date:"1781",Librettist:"Giambattista Varesco",language:"Italian","Based on":"Antoine Danchet",Premiere:"29 January 1781"},{title:"Iolanta",composer:"Tchaikovsky",date:"1892",Librettist:"Modest Tchaikovsky",language:"Russian","Based on":"Kong Renés Datter",Premiere:"18 December 1892"},{title:"Iphigénie en Tauride",composer:"Gluck",date:"1779",language:"French"},{title:"L'italiana in Algeri",composer:"Rossini, Gioachino",date:"1813",Translation:"The Italian Girl in Algiers",Librettist:"Angelo Anelli",language:"Italian",Premiere:"22 May 1813"},{title:"Jérusalem",composer:"Verdi, Giuseppe",date:"1847",Librettist:"\n",language:"French","Based on":"I Lombardi alla prima crociata",Premiere:"26 November 1847"},{title:"Lady Macbeth of Mtsensk",composer:"Shostakovich",date:"1934","Native title":"Russian: ",Librettist:"\n",language:"Russian","Based on":"Lady Macbeth of the Mtsensk District",Premiere:"22 January 1934"},{title:"Lakmé",composer:"Delibes",date:"1883",Librettist:"\n",language:"French","Based on":'Théodore Pavie\'s story "Les babouches du Brahamane"',Premiere:"14 April 1883"},{title:"Das Liebesverbot",composer:"Wagner",date:"1836",Librettist:"Richard Wagner",language:"German",Premiere:"29 March 1836"},{title:"Lohengrin",composer:"Wagner",date:"1850",Librettist:"Richard Wagner",language:"German","Based on":"Medieval German Romance",Premiere:"28 August 1850"},{title:"I Lombardi",composer:"Verdi, Giuseppe",date:"1843",Librettist:"Temistocle Solera",language:"Italian","Based on":"Tommaso Grossi",Premiere:"11 February 1843"},{title:"The Love for Three Oranges",composer:"Prokofiev",date:"1921","Native title":"Любовь к трём апельсинам, (Lyubov' k tryom apel'sinam)",Librettist:"Prokofiev",language:"Russian","Based on":"L'amore delle tre melarance",Premiere:"30 December 1921"},{title:"L'amour des trois oranges",composer:"Prokofiev",date:"1921",Librettist:"Prokofiev",language:"French","Based on":"L'amore delle tre melarance",Premiere:"30 December 1921"},{title:"Lucia di Lammermoor",composer:"Donizetti, Gaetano",date:"1835",Librettist:"Salvadore Cammarano",language:"Italian","Based on":"The Bride of Lammermoor",Premiere:"26 September 1835"},{title:"Lucio Silla",composer:"Mozart",date:"1772",Librettist:"Giovanni de Gamerra",language:"Italian",Premiere:"26 December 1772"},{title:"Lucrezia Borgia",composer:"Donizetti, Gaetano",date:"1834",Librettist:"Felice Romani",language:"Italian","Based on":"Lucrezia Borgia",Premiere:"26 December 1833"},{title:"Luisa Miller",composer:"Verdi, Giuseppe",date:"1849",Librettist:"Salvadore Cammarano",language:"Italian","Based on":"Kabale und Liebe",Premiere:"8 December 1849"},{title:"Lulu",composer:"Berg",date:"1937",Librettist:"Berg",language:"German","Based on":"Erdgeist",Premiere:"2 June 1937"},{title:"Die lustige Witwe",composer:"Lehár",date:"1905",language:"German"},{title:"Macbeth",composer:"Verdi, Giuseppe",date:"1847",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"Macbeth",Premiere:"14 March 1847 (1847-03-14) (Italian)\n21 April 1865 (1865-04-21) (French)"},{title:"Madama Butterfly",composer:"Puccini",date:"1904",Librettist:"\n",language:"Italian","Based on":"John Luther Long",Premiere:"17 February 1904"},{title:"The Maid of Orleans",composer:"Tchaikovsky",date:"1881","Native title":"Russian: ",Librettist:"Tchaikovsky",language:"Russian","Based on":"Joan of Arc",Premiere:"25 February 1881"},{title:"Les Mamelles de Tirésias",composer:"Poulenc",date:"1947",Translation:"The Breasts of Tiresias",Librettist:"Poulenc",language:"French","Based on":"The Breasts of Tiresias",Premiere:"3 June 1947"},{title:"Manon",composer:"Massenet",date:"1884",language:"French","Based on":"Manon Lescaut",Premiere:"19 January 1884"},{title:"Manon Lescaut",composer:"Puccini",date:"1893",language:"Italian","Based on":"Abbé Prévost",Premiere:"1 February 1893"},{title:"Maria Stuarda",composer:"Donizetti, Gaetano",date:"1835",Librettist:"Giuseppe Bardari",language:"Italian","Based on":"Maria Stuart",Premiere:"30 December 1835"},{title:"Les martyrs",composer:"Donizetti, Gaetano",date:"1840",Librettist:"Eugène Scribe",language:"French","Based on":"Polyeucte",Premiere:"10 April 1840"},{title:"I masnadieri",composer:"Verdi, Giuseppe",date:"1847",Librettist:"Andrea Maffei",language:"Italian","Based on":"Friedrich von Schiller",Premiere:"22 July 1847"},{title:"Mathis der Maler",composer:"Hindemith, Paul",date:"1938",Translation:"Matthias the Painter",Librettist:"Hindemith",language:"German","Based on":"Matthias Grünewald",Premiere:"28 May 1938"},{title:"Die Meistersinger von Nürnberg",composer:"Wagner",date:"1868",Translation:"The Mastersingers of Nuremberg",Librettist:"Richard Wagner",language:"German",Premiere:"21 June 1868"},{title:"A Midsummer Night's Dream",composer:"Britten",date:"1960",Librettist:"\n",language:"English","Based on":"A Midsummer Night's Dream",Premiere:"11 June 1960"},{title:"The Miserly Knight",composer:"Rachmaninoff",date:"1906","Native title":"Russian",language:"Russian","Based on":"Alexander Pushkin",Premiere:"24 January 1906"},{title:"Motezuma",composer:"Vivaldi",date:"1733",Librettist:"Alvise Giusti",Premiere:"14 November 1733"},{title:"Nabucco",composer:"Verdi, Giuseppe",date:"1842",Librettist:"Temistocle Solera",language:"Italian","Based on":"Play",Premiere:"9 March 1842"},{title:"The Nightingale",composer:"Stravinsky",date:"1914","Native title":"Соловей","Other title":"Le rossignol",Librettist:"\n","Based on":"The Nightingale",Premiere:"26 May 1914"},{title:"Nixon in China",composer:"Adams, John",date:"1987",Librettist:"Alice Goodman",language:"English",Premiere:"October 22, 1987",Website:"www.earbox.com/nixon-in-china/"},{title:"Norma",composer:"Bellini, Vincenzo",date:"1831",Librettist:"Felice Romani",language:"Italian","Based on":"Alexandre Soumet",Premiere:"26 December 1831"},{title:"The Nose",composer:"Shostakovich",date:"1930","Native title":"Russian: ",Librettist:"\n",language:"Russian","Based on":"The Nose",Premiere:"18 January 1930"},{title:"The Marriage of Figaro",composer:"Mozart",date:"1786","Native title":"Le nozze di Figaro",Librettist:"Lorenzo Da Ponte",language:"Italian","Based on":"La folle journée, ou le Mariage de Figaro",Premiere:"1 May 1786"},{title:"Oberto Conte di San Bonifacio",composer:"Verdi, Giuseppe",date:"1839",Librettist:"Temistocle Solera",language:"Italian","Based on":"Antonio Piazza",Premiere:"17 November 1839"},{title:"L'oca del Cairo",composer:"Mozart",date:"1783",Translation:"The Goose of Cairo",Librettist:"Giovanni Battista Varesco",language:"Italian"},{title:"L'Orfeo",composer:"Monteverdi",date:"1607",Librettist:"Alessandro Striggio",language:"Italian","Based on":"Greek legend",Premiere:"1607 "},{title:"Orlando furioso",composer:"Vivaldi",date:"1727",Librettist:"Grazio Braccioli",Premiere:"November 1727 (1727-11)Teatro Sant'Angelo, Venice"},{title:"Otello",composer:"Verdi, Giuseppe",date:"1887",Librettist:"Arrigo Boito",language:"Italian","Based on":"Othello",Premiere:"5 February 1887"},{title:"Pagliacci",composer:"Leoncavallo",date:"1892",Librettist:"Ruggero Leoncavallo",language:"Italian",Premiere:"21 May 1892"},{title:"Parsifal",composer:"Wagner",date:"1882",Librettist:"Richard Wagner",language:"German","Based on":"Parzival",Premiere:"26 July 1882"},{title:"Les pêcheurs de perles",composer:"Bizet",date:"1863",Librettist:"\n",language:"French",Premiere:"30 September 1863"},{title:"Pelléas et Mélisande",composer:"Debussy",date:"1902",language:"French","Based on":"Pelléas et Mélisande",Premiere:"30 April 1902"},{title:"Peter Grimes",composer:"Britten",language:"English",date:"1945",Librettist:"Montagu Slater",Premiere:"7 June 1945"},{title:"Porgy and Bess",composer:"Gershwin",date:"1935",Librettist:"DuBose Heyward",language:"English","Based on":"Porgy",Premiere:"September 30, 1935"},{title:"Prince Igor",composer:"Borodin",date:"1890","Native title":"Russian",Librettist:"Borodin",language:"Russian","Based on":"The Lay of Igor's Host",Premiere:"4 November 1890"},{title:"I puritani",composer:"Bellini, Vincenzo",date:"1835",Librettist:"Carlo Pepoli",language:"Italian","Based on":"Têtes Rondes et Cavalieres",Premiere:"24 January 1835"},{title:"The Queen of Spades",composer:"Tchaikovsky",date:"1890","Native title":"Пиковая дама",Librettist:"Modest Tchaikovsky",language:"Russian","Based on":"The Queen of Spades",Premiere:"29 March 1890"},{title:"A Quiet Place",composer:"Bernstein",date:"1983",Librettist:"Stephen Wadsworth",language:"English",Premiere:"17 June 1983"},{title:"The Rake's Progress",composer:"Stravinsky",date:"1951","Based on":"A Rake's Progress",Premiere:"11 September 1951"},{title:"The Rape of Lucretia",composer:"Britten",date:"1946",Librettist:"Ronald Duncan",language:"English","Based on":"Le Viol de Lucrèce",Premiere:"12 July 1946"},{title:"Il re pastore",composer:"Mozart",date:"1775",Librettist:"Metastasio",language:"Italian","Based on":"Aminta",Premiere:"23 April 1775"},{title:"Das Rheingold",composer:"Wagner",date:"1869",Librettist:"Richard Wagner",language:"German","Based on":"Nordic and German legends",Premiere:"22 September 1869"},{title:"Rienzi",composer:"Wagner",date:"1842",Librettist:"Richard Wagner",language:"German","Based on":"Edward Bulwer-Lytton",Premiere:"20 October 1842"},{title:"Rigoletto",composer:"Verdi, Giuseppe",date:"1851",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"Le roi s'amuse",Premiere:"11 March 1851"},{title:"Rinaldo",composer:"Handel",date:"1711",language:"Italian"},{title:"Der Ring des Nibelungen",composer:"Wagner",date:"1876",Translation:"The Ring of the Nibelung",Librettist:"Richard Wagner",language:"German",Premiere:"\nIndividually:\n22 September 1869 (22 September 1869) Das Rheingold\n26 June 1870 (26 June 1870) Die Walküre\nAs a cycle:\n13 August 1876 (1876-08-13) Das Rheingold\n14 August 1876 Die Walküre\n16 August 1876 Siegfried\n17 August 1876 Götterdämmerung\n"},{title:"Il ritorno d'Ulisse in patria",composer:"Monteverdi",date:"1640",Librettist:"Giacomo Badoaro",language:"Italian","Based on":"Homer",Premiere:"1639–1640 "},{title:"Roberto Devereux",composer:"Donizetti, Gaetano",date:"1837",Librettist:"Salvadore Cammarano",language:"Italian","Based on":"Elisabeth d'Angleterre",Premiere:"28 October 1837"},{title:"Le roi de Lahore",composer:"Massenet",date:"1877",Librettist:"Louis Gallet",language:"French",Premiere:"27 April 1877"},{title:"Roméo et Juliette",composer:"Gounod",date:"1867",language:"French","Based on":"Romeo and Juliet",Premiere:"27 April 1867"},{title:"La rondine",composer:"Puccini",date:"1917",Librettist:"Giuseppe Adami",language:"Italian",Premiere:"27 March 1917"},{title:"Der Rosenkavalier",composer:"Strauss, Richard",date:"1911",Librettist:"Hugo von Hofmannsthal",language:"German",Premiere:"26 January 1911"},{title:"Rusalka",composer:"Dvořák",date:"1901",Librettist:"Jaroslav Kvapil",language:"Czech","Based on":"Karel Jaromír Erben",Premiere:"31 March 1901"},{title:"Ruslan and Lyudmila",composer:"Glinka",date:"1842",language:"Russian"},{title:"The Saint of Bleecker Street",composer:"Menotti",date:"1954",Librettist:"Menotti",language:"English",Premiere:"December 27, 1954"},{title:"Salome",composer:"Strauss, Richard",date:"1905",Librettist:"Oscar Wilde",language:"German",Premiere:"9 December 1905"},{title:"Samson",composer:"Handel",date:"1743",language:"English"},{title:"Samson et Dalila",composer:"Saint-Saëns",date:"1877",Librettist:"Ferdinand Lemaire",language:"French","Based on":"Samson and Delilah",Premiere:"2 December 1877"},{title:"Semiramide",composer:"Rossini, Gioachino",date:"1823",Librettist:"Gaetano Rossi",language:"Italian","Based on":"Semiramis",Premiere:"3 February 1823"},{title:"Siegfried",composer:"Wagner",date:"1876",Librettist:"Richard Wagner",language:"German","Based on":"Nordic and German legends",Premiere:"16 August 1876"},{title:"Simon Boccanegra",composer:"Verdi, Giuseppe",date:"1857",Librettist:"\n",language:"Italian","Based on":"Antonio García Gutiérrez",Premiere:"\n12 March 1857 (1857-03-12) (first version)\n24 March 1881 (1881-03-24) (second version)\n"},{title:"La sonnambula",composer:"Bellini, Vincenzo",date:"1831",Librettist:"Felice Romani",language:"Italian","Based on":"La somnambule, ou L'arrivée d'un nouveau seigneur",Premiere:"6 March 1831"},{title:"Suor Angelica",composer:"Puccini",date:"1918",Librettist:"Giovacchino Forzano",language:"Italian",Premiere:"14 December 1918"},{title:"Tancredi",composer:"Rossini, Gioachino",date:"1813",Librettist:"Gaetano Rossi",language:"Italian","Based on":"Tancrède",Premiere:"6 February 1813"},{title:"Tannhäuser",composer:"Wagner",date:"1845","Native title":"Tannhäuser und der Sängerkrieg auf Wartburg",Librettist:"Richard Wagner",language:"German",Premiere:"19 October 1845"},{title:"The Tender Land",composer:"Copland",date:"1954",Librettist:"Horace Everett",language:"English",Premiere:"April 1, 1954"},{title:"Thaïs",composer:"Massenet",date:"1894",Librettist:"Louis Gallet",language:"French","Based on":"Thaïs",Premiere:"16 March 1894"},{title:"Die Dreigroschenoper",Translation:"The Threepenny Opera",composer:"Weill, Kurt",date:"1928",language:"German"},{title:"Tosca",composer:"Puccini",date:"1900",language:"Italian","Based on":"La Tosca",Premiere:"14 January 1900"},{title:"La traviata",composer:"Verdi, Giuseppe",date:"1853",Librettist:"Francesco Maria Piave",language:"Italian","Based on":"La Dame aux camélias",Premiere:"6 March 1853"},{title:"Tristan und Isolde",composer:"Wagner",date:"1865",Librettist:"Richard Wagner",language:"German","Based on":"Tristan and Iseult",Premiere:"10 June 1865"},{title:"Trouble in Tahiti",composer:"Bernstein",date:"1952",Librettist:"Leonard Bernstein",language:"English",Premiere:"12 June 1952"},{title:"Il trovatore",composer:"Verdi, Giuseppe",date:"1853",Librettist:"Salvadore Cammarano",language:"Italian","Based on":"Antonio García Gutiérrez",Premiere:"19 January 1853"},{title:"Les Troyens",composer:"Berlioz",date:"1863",Librettist:"Berlioz",language:"French","Based on":"Aeneid",Premiere:"4 November 1863"},{title:"The Tsar's Bride",composer:"Rimsky-Korsakov",date:"1899","Native title":"Russian",Librettist:"Ilia Tyumenev",language:"Russian","Based on":"The Tsar's Bride",Premiere:"1899"},{title:"Turandot",composer:"Puccini",date:"1926",Librettist:"\n",language:"Italian","Based on":"Carlo Gozzi",Premiere:"25 April 1926"},{title:"Il turco in Italia",composer:"Rossini, Gioachino",date:"1814",Translation:"The Turk in Italy",Librettist:"Felice Romani",language:"Italian",Premiere:"14 August 1814"},{title:"The Turn of the Screw",composer:"Britten",date:"1954",Librettist:"Myfanwy Piper",language:"English","Based on":"The Turn of the Screw",Premiere:"14 September 1954"},{title:"Vanessa",composer:"Barber",date:"1958",Librettist:"Gian Carlo Menotti",language:"English",Premiere:"January 15, 1958"},{title:"Il viaggio a Reims",composer:"Rossini, Gioachino",date:"1825",Librettist:"Luigi Balocchi",language:"Italian","Based on":"Corinne ou l'Italie",Premiere:"19 June 1825"},{title:"Les vêpres siciliennes",composer:"Verdi, Giuseppe",date:"1855",language:"French","Based on":"Donizetti",Premiere:"13 June 1855"},{title:"Die Walküre",composer:"Wagner",date:"1870",Translation:"The Valkyrie",Librettist:"Richard Wagner",language:"German","Based on":"Nordic and German legends",Premiere:"26 June 1870"},{title:"War and Peace",composer:"Prokofiev",date:"1946","Native title":"Война и мир",language:"Russian","Based on":"War and Peace",Premiere:"12 June 1946"},{title:"Werther",composer:"Massenet",date:"1892",language:"French","Based on":"Die Leiden des jungen Werther",Premiere:"16 February 1892"},{title:"Wozzeck",composer:"Berg",date:"1925",Librettist:"Berg",language:"German","Based on":"Woyzeck",Premiere:"14 December 1925"},{title:"The Magic Flute",composer:"Mozart",date:"1791","Native title":"Die Zauberflöte",Librettist:"Emanuel Schikaneder",language:"German",Premiere:"30 September 1791"}].filter((function(e){return"language"in e&&"title"in e&&"composer"in e&&"date"in e})).map((e=>({...e,normalized:J(e.title)})));function J(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s/g," ").replace(/[^\w\s]/g,"_").trim()}const $=[...new Set(j.map((e=>e.composer)))].sort(),H=([...new Set(j.map((e=>e.language)))].sort(),[...new Set(j.map((e=>Number(e.date))))].sort(((e,t)=>e-t))),q=(H[0],H[H.length-1],{Croatian:{capital:"Zagreb",loc:[45.815399,15.966568]},Czech:{capital:"Prague",loc:[50.073658,14.41854]},Danish:{capital:"Copenhagen",loc:[55.6760968,12.5683371]},English:{capital:"London",loc:[51.5073509,-.1277583]},French:{capital:"Paris",loc:[48.856614,2.3522219]},German:{capital:"Berlin",loc:[52.5200066,13.404954]},Hungarian:{capital:"Budapest",loc:[47.162494,19.503304]},Italian:{capital:"Rome",loc:[41.9027835,12.4963655]},Latin:{capital:"Rome",loc:[41.9027835,12.4963655]},Polish:{capital:"Warsaw",loc:[52.2296756,21.0122287]},Russian:{capital:"Moscow",loc:[55.755826,37.6173]},Spanish:{capital:"Madrid",loc:[40.416775,-3.70379]},Swedish:{capital:"Stockholm",loc:[59.3293235,18.0685808]},Turkish:{capital:"Istanbul",loc:[41.0344,28.9653]}}),U=new z(j,{keys:["normalized","Translation","alternate","Native title","Other title"],includeMatches:!0,minMatchCharLength:2,threshold:.2}),K=j[Math.floor(Math.random()*j.length)],Y=$.indexOf(K.composer);console.log({...K,targetIndex:Y});const X=document.getElementById("opera-input"),Z=document.getElementById("guess-button"),Q=Z,ee=document.getElementById("score-template"),te={startAngle:120,ticksAngle:120,valueBox:!1,colorPlate:"#fff",borderShadowWidth:0,borders:!1,needleType:"arrow",needleWidth:4,needleCircleSize:7,needleCircleOuter:!0,needleCircleInner:!1,animationDuration:250,animationRule:"linear"};function ie(){if(!("refIndex"in Q.dataset))return;const e=j[parseInt(Q.dataset.refIndex)],t=ee.content.cloneNode(!0);t.querySelector(".composer-score h3").textContent=ne(e.composer),t.querySelector(".language-score h3").textContent=e.language,t.querySelector(".date-score h3").textContent=`Premiered in ${e.date}`;const i=`score-row-${document.body.childElementCount}`;t.id=i,t.querySelector("h2").textContent=Q.textContent,document.body.appendChild(t),document.body.lastElementChild.id=i;const r=$.indexOf(e.composer);let a=(r+1).toString();a.endsWith("1")&&(a+="st"),a.endsWith("2")&&(a+="nd"),a.endsWith("3")&&(a+="rd"),/\d$/.test(a)&&(a+="th");const n=r-$.indexOf(K.composer),o=document.getElementById(i).querySelector(".composer-score canvas");o.setAttribute("title",n?`Your guess was written by ${ne(e.composer)}, who is ${a} on an alphabetical list of opera composers, but you are looking for an opera by a composer who appears ${Math.abs(n)} positions ${Y>r?"later":"earlier"} on the list.`:`Your guess was written by ${ne(e.composer)}, who is the composer you are looking for.`),new(0,_.RadialGauge)({renderTo:o,units:"(alpha)",minValue:0,value:r,maxValue:$.length,majorTicks:["0",$.length.toString()],minorTicks:2,strokeTicks:!0,highlights:[{from:Y-2,to:Y+2,color:"rgba(124, 252, 0, .75)"}],...te}).draw();const s=Number(K.date)-Number(e.date),l=document.getElementById(i).querySelector(".date-score canvas");null==l||l.setAttribute("title",s?`Your guess premiered in ${e.date}, but you are looking for an opera that premiered ${s} years ${s>0?"later":"earlier"}.`:`Your guess premiered in ${e.date}, which is the year you are looking for.`),new(0,_.RadialGauge)({renderTo:l,units:"years",minValue:1600,value:Number(e.date),maxValue:2e3,majorTicks:["1600","1700","1800","1900","2000"],minorTicks:2,strokeTicks:!0,highlights:[{from:Number(K.date)-10,to:Number(K.date)+10,color:"rgba(124, 252, 0, .75)"}],...te}).draw();const c=q[e.language],d=q[K.language],u=function(e,t,i,r){const a=6371,n=ae(i-e),o=ae(r-t);e=ae(e),i=ae(i);const s=Math.sin(n/2)*Math.sin(n/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(e)*Math.cos(i),l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return a*l}(...c.loc,...d.loc),h=document.getElementById(i).querySelector(".language-score canvas");null==h||h.setAttribute("title",u?`Your guess is sung in ${e.language}, which is spoken in ${c.capital}, which is ${u.toFixed(0)}km away from the capital of the country where they speak the language you seek.`:`Your guess is sung in ${e.language}, which is the language you are looking for.`),new(0,_.RadialGauge)({renderTo:h,units:"km",minValue:0,value:u,maxValue:1e3,majorTicks:["0","250","500","750","1000"],minorTicks:2,strokeTicks:!0,highlights:[{from:0,to:100,color:"rgba(124, 252, 0, .75)"}],...te}).draw(),X.value="",U.removeAt(Number(Q.dataset.refIndex)),re()}function re(){Q.textContent="Unknown opera",delete Q.dataset.refIndex,Z.setAttribute("disabled","disabled")}function ae(e){return e*Math.PI/180}function ne(e){return e.split(", ").reverse().join(" ")}Z.onclick=ie,X.oninput=()=>{Q.textContent="";const e=X.value,[t]=U.search(J(e),{limit:1});if(t){Z.removeAttribute("disabled");const[{indices:[e],key:i,value:r}]=t.matches;if(Q.dataset.refIndex=t.refIndex.toString(),"normalized"===i){const[i,r,a]=function(e,t){let i=0;const r=[];for(const a of t)r.push(e.substring(i,a+1)),i=a+1;return r.push(e.substring(i)),r}(t.item.title||"",e);Q.appendChild(document.createTextNode(i));const n=document.createElement("strong");n.textContent=r,Q.appendChild(n),Q.appendChild(document.createTextNode(a))}else Q.textContent=t.item.title}else re()},X.onkeydown=e=>{"Enter"===e.key&&ie()};
//# sourceMappingURL=index.7752aeec.js.map
